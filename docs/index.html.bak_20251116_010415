<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <title>SLHNET  הרשת העסקית על Binance Smart Chain</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="SLHNET היא רשת עסקית חברתית המשלבת איקומרס, Binance Smart Chain, קבוצות טלגרם ושיתופים שמייצרים הכנסה בטוקן SLH." />

  <!-- Canonical -->
  <link rel="canonical" href="https://slh-nft.com/" />

  <!-- Open Graph -->
  <meta property="og:title" content="SLHNET  הרשת העסקית החדשה" />
  <meta property="og:description" content="הצטרפו ל-SLHNET: חנויות דיגיטליות, טוקן SLH על BSC, קבוצות טלגרם ורשת חברתית לעסקים. כל שיתוף יכול להפוך לנכס." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://slh-nft.com/" />
  <meta property="og:image" content="https://slh-nft.com/assets/start_banner.jpg" />

  <!-- Twitter / X -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="SLHNET  הרשת העסקית החדשה" />
  <meta name="twitter:description" content="מערכת איקומרס + BSC + טלגרם + רשת חברתית לעסקים, עם טוקן SLH על Binance Smart Chain." />
  <meta name="twitter:image" content="https://slh-nft.com/assets/start_banner.jpg" />

  <!-- Basic favicon (אם כבר קיים בקבצי האתר אפשר לעדכן) -->
  <link rel="icon" href="/assets/start_banner.jpg" />

  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "SLHNET Business Network",
    "url": "https://slh-nft.com/",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "All",
    "description": "SLHNET  רשת עסקית חברתית המחברת בין חנויות דיגיטליות, Binance Smart Chain, קבוצות טלגרם ושיתופי תוכן מתגמלים.",
    "creator": {
      "@type": "Organization",
      "name": "SLHNET"
    }
  }
  </script>

  <style>
    :root {
      color-scheme: dark;
    }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #020617;
      color: #f9fafb;
      margin: 0;
      padding: 0;
    }
    .layout {
      max-width: 1200px;
      margin: 0 auto;
      padding: 16px 16px 64px;
    }
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 10px 4px 4px;
    }
    header .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    header img.logo {
      width: 40px;
      height: 40px;
      border-radius: 999px;
      object-fit: cover;
      border: 1px solid rgba(148,163,184,0.6);
    }
    header h1 {
      font-size: 1.3rem;
      margin: 0;
    }
    header small {
      display: block;
      font-size: 0.8rem;
      color: #a5b4fc;
    }
    nav.user-nav {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }
    nav.user-nav button {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.9);
      color: #e5e7eb;
      font-size: 0.82rem;
      cursor: pointer;
    }
    nav.user-nav button.active {
      background: linear-gradient(135deg, #22c55e, #06b6d4);
      color: #020617;
      border-color: transparent;
      font-weight: 600;
    }

    main {
      display: grid;
      grid-template-columns: 2.1fr 1.4fr;
      gap: 16px;
      margin-top: 10px;
    }
    @media (max-width: 900px) {
      main {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: radial-gradient(circle at top, rgba(96,165,250,0.15), transparent 55%),
                  rgba(15,23,42,0.98);
      border-radius: 18px;
      padding: 18px;
      margin-bottom: 12px;
      border: 1px solid rgba(148,163,184,0.35);
      box-shadow: 0 18px 40px rgba(15,23,42,0.85);
    }
    .card h2 {
      margin-top: 0;
      margin-bottom: 8px;
      font-size: 1.15rem;
    }
    .card h3 {
      margin: 8px 0;
      font-size: 1rem;
    }
    p { margin: 0 0 8px; }

    .btn {
      display: inline-block;
      padding: 9px 16px;
      border-radius: 999px;
      background: linear-gradient(135deg, #22c55e, #06b6d4);
      color: #020617;
      text-decoration: none;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
      font-size: 0.94rem;
    }
    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 22px rgba(34,197,94,0.4);
    }
    .btn-secondary {
      background: rgba(15,23,42,0.95);
      color: #e5e7eb;
      border: 1px solid rgba(148,163,184,0.6);
      font-weight: 500;
    }
    .btn-ghost {
      background: transparent;
      border: 1px dashed rgba(148,163,184,0.6);
      color: #cbd5f5;
    }
    .share-row a {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.85rem;
      margin-inline-start: 6px;
      text-decoration: none;
      color: #cbd5f5;
    }
    .share-row span.icon {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: rgba(148,163,184,0.22);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
    }
    ul {
      padding-inline-start: 20px;
      margin: 4px 0 8px;
      font-size: 0.9rem;
    }
    code {
      background: rgba(15,23,42,0.85);
      padding: 2px 6px;
      border-radius: 6px;
      font-size: 0.82rem;
    }

    .sales-table, .wallet-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.82rem;
    }
    .sales-table th, .sales-table td,
    .wallet-table th, .wallet-table td {
      border-bottom: 1px solid rgba(148,163,184,0.25);
      padding: 6px 4px;
      text-align: right;
    }
    .sales-table th, .wallet-table th {
      font-weight: 600;
      color: #e5e7eb;
      font-size: 0.8rem;
    }
    .badge-ok { color: #bbf7d0; }
    .badge-pending { color: #fde68a; }
    .badge-bad { color: #fecaca; }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(148,163,184,0.5);
      font-size: 0.75rem;
      color: #cbd5f5;
    }
  </style>
</head>
<body>
  <div class="layout">
    <header>
      <div class="brand">
        <img src="/assets/start_banner.jpg" alt="SLHNET logo" class="logo" />
        <div>
          <h1>SLHNET  הרשת העסקית החדשה</h1>
          <small>איקומרס  Binance Smart Chain  טלגרם  רשת חברתית לעסקים</small>
        </div>
      </div>
      <nav class="user-nav">
        <button type="button" data-tab="overview" class="active">סקירה</button>
        <button type="button" data-tab="wallet">אזור ארנק</button>
        <button type="button" data-tab="social">פיד חברתי</button>
        <button type="button" data-tab="market">בורסת SLHNET</button>
        <button type="button" data-tab="admin">פאנל ניהול</button>
      </nav>
    </header>

    <main>
      <!-- עמודה ראשית -->
      <section id="tab-overview" class="tab-panel" data-tab="overview">
        <div class="card">
          <h2>שער הכניסה ל-SLHNET</h2>
          <p>
            SLHNET מחברת בין <strong>חנויות דיגיטליות</strong>,
            <strong>טוקן SLH על Binance Smart Chain</strong>,
            <strong>קבוצות טלגרם</strong> ו<strong>רשת חברתית</strong> לשיתופי תוכן והמלצות.
          </p>
          <p>
            כל שיתוף בפרופיל שלך ובחנות שלך הוא נכס: מהרגע הראשון אתה מרוויח מחשיפה,
            מחיבור לקהילה ומטוקני <strong>SLH</strong>.
          </p>
          <p>
            אחרי <strong>39 שיתופים איכותיים</strong> או תשלום חדפעמי של
            <strong><span id="price-amount">39</span> </strong>  מקבלים גישה מלאה
            לכל שכבות הרשת: קבוצות פרימיום, חנויות, בוטים, הטבות ואיירדרופים.
            מי שכבר מחזיק בSLH בארנק על BSC  זכאי לגישה חינמית דרך הבוט לאחר אימות.
          </p>
          <p style="margin-top:6px;">
            <span class="pill"> שער יציג SLH: <span id="slh-price-label">444 </span> ל-SLH</span>
          </p>

          <div style="margin-top:14px; display:flex; flex-wrap:wrap; gap:10px;">
            <a class="btn" href="https://t.me/Buy_My_Shop_bot" target="_blank" rel="noreferrer">
               כניסה לבוט SLHNET
            </a>
            <a id="btn-join-group" class="btn btn-secondary" href="#" target="_blank" rel="noreferrer">
               הצטרפות לקבוצת העסקים
            </a>
            <a id="btn-pay" class="btn" href="#" target="_blank" rel="noreferrer">
               תשלום <span id="price-amount-inline">39</span>  וגישה מלאה
            </a>
          </div>

          <div style="margin-top:12px;font-size:0.9rem;">
            בפקודות הבוט:
            <code>/start</code> להצטרפות  <code>/wallet</code> ניהול ארנק 
            <code>/sell</code> דיווח מכירה  <code>/post</code> יצירת פוסט.
          </div>

          <div class="share-row" style="margin-top:14px;">
            <div style="margin-bottom:4px;">שתף את SLHNET ברשתות:</div>
            <a id="share-tg" target="_blank" rel="noreferrer">
              <span class="icon">TG</span> טלגרם
            </a>
            <a id="share-wa" target="_blank" rel="noreferrer">
              <span class="icon">WA</span> ווטסאפ
            </a>
            <a id="share-fb" target="_blank" rel="noreferrer">
              <span class="icon">f</span> פייסבוק
            </a>
            <a id="share-x" target="_blank" rel="noreferrer">
              <span class="icon">X</span> X
            </a>
          </div>
        </div>

        <div class="card">
          <h2>איך מרוויחים ב-SLHNET?</h2>
          <ul>
            <li>יוצרים פרופיל עסקי + חנות דיגיטלית דרך הבוט.</li>
            <li>מקבלים לינקים ייחודיים לשיתוף החנות והפרופיל.</li>
            <li>כל שיתוף מייצר תנועה לרשת ואוסף נקודות פעילות.</li>
            <li>אחרי 39 שיתופים איכותיים או תשלום של <span id="price-amount-inline-2">39</span>   נפתחת גישה מלאה.</li>
            <li>מחזיקי SLH על BSC מקבלים גישה מלאה חינם, לאחר אימות ארנק דרך הבוט.</li>
            <li>הבונוסים: טוקני SLH, חשיפה, קבוצות עסקים, ואפשרות לפתוח קניון שלם משלך.</li>
          </ul>
        </div>

        <div class="card">
          <h2>הגדרת רשת BSC + טוקן SLH בארנק</h2>
          <div style="display:flex; gap:16px; flex-wrap:wrap;">
            <div style="flex:1 1 220px;">
              <p><strong>הגדרת רשת ב-MetaMask:</strong></p>
              <ul>
                <li>Network Name: <code>Smart Chain</code></li>
                <li>New RPC URL: <code>https://bsc-dataseed.binance.org/</code></li>
                <li>ChainID: <code>56</code></li>
                <li>Symbol: <code>BNB</code></li>
                <li>Block Explorer URL: <code>https://bscscan.com</code></li>
              </ul>
              <p><strong>טוקן SLH (Custom Token):</strong></p>
              <ul>
                <li>Token Contract Address: <code>0xACb0A09414CEA1C879c67bB7A877E4e19480f022</code></li>
                <li>Token Symbol: <code>SLH</code></li>
                <li>Decimals: <code>15</code></li>
              </ul>
            </div>
            <div style="flex:1 1 220px;">
              <p>כפתור מהיר להוספת הטוקן:</p>
              <button class="btn" id="btn-add-token">הוסף טוקן SLH ל-MetaMask</button>
              <div id="wallet-status" style="margin-top:10px;font-size:0.9rem;"></div>
              <p style="margin-top:8px;font-size:0.85rem;">
                בדיקת יתרה מדויקת, אימות החזקת SLH ופתיחת גישה חינמית
                מתבצעים דרך הבוט בפקודת <code>/wallet</code>.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- עמודה ימנית (או שנייה במובייל)  אזור משתמש / שוק / פיד -->
      <section>
        <!-- אזור ארנק אישי -->
        <div class="card tab-panel" data-tab="wallet" style="display:none;">
          <h2>אזור ארנק אישי</h2>
          <p style="font-size:0.9rem;">
            את הארנק שלך מנהלים דרך הבוט, אבל כאן תוכל לראות תקציר (לפי הנתונים שנשמרים במערכת).
          </p>
          <p style="font-size:0.85rem;">
            בבוט: שלח <code>/wallet</code> עם כתובת BSC שלך (<code>0x...</code>) כדי לקשר את הארנק למערכת.
          </p>
          <table class="wallet-table" style="margin-top:10px;">
            <thead>
              <tr>
                <th>משתמש</th>
                <th>כתובת BSC</th>
                <th>סטטוס</th>
                <th>עודכן</th>
              </tr>
            </thead>
            <tbody id="wallets-body">
              <tr><td colspan="4">תמיכת API לארנק תתווסף בהמשך. כרגע ההגדרה מתבצעת דרך הבוט בלבד.</td></tr>
            </tbody>
          </table>
        </div>

        <!-- פיד חברתי -->
        <div class="card tab-panel" data-tab="social" style="display:none;">
          <h2>פוסטים מהקהילה  SLHNET Social</h2>
          <p style="font-size:0.9rem;">
            חברי הרשת יכולים ליצור פוסטים דרך הבוט (למשל: <code>/post כותרת | תוכן</code>)
            והם יוצגו כאן לכולם. כל פוסט ניתן לשיתוף ברשתות החברתיות.
          </p>
          <div id="posts-box" style="font-size:0.9rem;">טוען פוסטים...</div>
        </div>

        <!-- בורסת SLHNET -->
        <div class="card tab-panel" data-tab="market" style="display:none;">
          <h2 id="sales-title">מכירות SLH האחרונות במערכת</h2>
          <p style="font-size:0.9rem;">
            כל מכירה נרשמת אחרי אימות עסקה (העברת SLH ל-Treasury דרך ארנק תואם BSC)
            ומוצגת כאן בלוח המכירות.
          </p>
          <table class="sales-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>משתמש</th>
                <th>כתובת</th>
                <th>כמות</th>
                <th>מחיר</th>
                <th>סטטוס</th>
                <th>עסקה</th>
              </tr>
            </thead>
            <tbody id="sales-body">
              <tr><td colspan="7">טוען נתונים...</td></tr>
            </tbody>
          </table>
        </div>

        <!-- פאנל ניהול -->
        <div class="card tab-panel" data-tab="admin" style="display:none;">
          <h2>פאנל ניהול SLHNET</h2>
          <p style="font-size:0.9rem;">
            לבעל המערכת:
          </p>
          <ul style="font-size:0.9rem;">
            <li>דשבורד API (JSON): <code>/admin/stats?token=ADMIN_DASH_TOKEN</code></li>
            <li>דשבורד HTML: <code>/admin/dashboard?token=ADMIN_DASH_TOKEN</code></li>
            <li>ניהול מלא דרך הבוט: <code>/admin</code>, <code>/stats</code> ועוד.</li>
          </ul>
          <p style="font-size:0.85rem;">
            מומלץ להגדיר ב-Railway את <code>ADMIN_DASH_TOKEN</code> לערך פשוט לזכירה
            (למשל <code>Buy_My_Shop_bot</code>) ולא לחשוף את ה-BOT_TOKEN עצמו מחוץ ל-Railway.
          </p>
          <p style="font-size:0.85rem;">
            בוט אדמין נפרד אפשר להרים בשירות רלווי נוסף עם טוקן בוט ייעודי, שמשתמש בו רק מנהל המערכת.
          </p>
        </div>

        <!-- ברירת מחדל  אם לא נבחר טאב, נציג את השוק -->
        <div class="card tab-panel-default">
          <h2>לוח שערים SLH</h2>
          <p id="price-box" style="font-size:0.9rem;">
            טוען שער יציג...
          </p>
          <p style="font-size:0.85rem;">
            השער היציג נקבע על ידי הרשת: <strong>444 </strong> ל-SLH (ברירת מחדל),
            ומולו יוצגו המחירים שבהם חברי הקהילה מוכרים וקונים בפועל.
          </p>
        </div>
      </section>
    </main>
  </div>

  <script>
    const API_BASE = "https://webwook-production-4861.up.railway.app";
    const SITE_BASE = window.location.origin;

    function setupTabs() {
      const buttons = document.querySelectorAll("nav.user-nav button[data-tab]");
      const panels = document.querySelectorAll(".tab-panel");
      const defaultPanel = document.querySelector(".tab-panel-default");

      function showTab(tab) {
        buttons.forEach(btn => {
          btn.classList.toggle("active", btn.getAttribute("data-tab") === tab);
        });
        let tabShown = false;
        panels.forEach(p => {
          const match = p.getAttribute("data-tab") === tab;
          p.style.display = match ? "block" : "none";
          if (match) tabShown = true;
        });
        if (defaultPanel) {
          defaultPanel.style.display = tabShown ? "none" : "block";
        }
      }

      buttons.forEach(btn => {
        btn.addEventListener("click", () => {
          const tab = btn.getAttribute("data-tab");
          showTab(tab);
        });
      });

      showTab("overview");
    }

    function setupShares() {
      const url = encodeURIComponent(SITE_BASE);
      const text = encodeURIComponent("SLHNET  רשת העסקים החדשה. הצטרף דרך הבוט וקבל גישה לטוקני SLH, חנויות וקבוצות עסקים.");
      const urlWithText = SITE_BASE + "?ref=share";

      const tg = document.getElementById("share-tg");
      const wa = document.getElementById("share-wa");
      const fb = document.getElementById("share-fb");
      const x = document.getElementById("share-x");

      if (tg) tg.href = "https://t.me/share/url?url=" + encodeURIComponent(urlWithText) + "&text=" + text;
      if (wa) wa.href = "https://api.whatsapp.com/send?text=" + text + "%20" + urlWithText;
      if (fb) fb.href = "https://www.facebook.com/sharer/sharer.php?u=" + urlWithText;
      if (x) x.href = "https://x.com/intent/tweet?text=" + text + "&url=" + urlWithText;
    }

    async function loadConfig() {
      try {
        const res = await fetch(API_BASE + "/config/public");
        if (!res.ok) return;
        const data = await res.json();
        const price = data.slh_nis || "39";

        const priceEls = [
          document.getElementById("price-amount"),
          document.getElementById("price-amount-inline"),
          document.getElementById("price-amount-inline-2"),
        ];
        priceEls.forEach(el => { if (el) el.textContent = price; });

        const joinBtn = document.getElementById("btn-join-group");
        if (joinBtn && data.business_group_link) {
          joinBtn.href = data.business_group_link;
        } else if (joinBtn) {
          joinBtn.style.display = "none";
        }

        const payBtn = document.getElementById("btn-pay");
        if (payBtn) {
          const payUrl = data.paybox_url || data.paypal_url;
          if (payUrl) {
            payBtn.href = payUrl;
          } else {
            payBtn.addEventListener("click", (ev) => {
              ev.preventDefault();
              alert("התשלום מופעל כיום מתוך הבוט. אנא התחבר דרך הבוט SLHNET לביצוע התשלום.");
            });
          }
        }
      } catch (err) {
        console.error("config error", err);
      }
    }

    async function loadPrice() {
      const box = document.getElementById("price-box");
      const label = document.getElementById("slh-price-label");
      try {
        const res = await fetch(API_BASE + "/api/token/price");
        if (!res.ok) {
          if (box) box.textContent = "שער יציג: 444  ל-SLH (ברירת מחדל  API לא זמין).";
          if (label) label.textContent = "444 ";
          return;
        }
        const data = await res.json();
        const p = data.official_price_nis || 444;
        if (box) box.textContent = "שער יציג רשמי: " + p + "  ל-SLH (BSC Mainnet).";
        if (label) label.textContent = p + " ";
      } catch (err) {
        console.error("price error", err);
        if (box) box.textContent = "שער יציג: 444  ל-SLH (ברירת מחדל).";
        if (label) label.textContent = "444 ";
      }
    }

    async function loadSales() {
      const tbody = document.getElementById("sales-body");
      if (!tbody) return;
      try {
        const res = await fetch(API_BASE + "/api/token/sales?limit=50");
        if (!res.ok) {
          tbody.innerHTML = "<tr><td colspan='7'>שגיאה בטעינת הנתונים.</td></tr>";
          return;
        }
        const data = await res.json();
        tbody.innerHTML = "";

        if (!data.items || data.items.length === 0) {
          tbody.innerHTML = "<tr><td colspan='7'>אין עדיין מכירות רשומות. כשיתבצעו עסקאות דרך הבוט  הן יוצגו כאן.</td></tr>";
          return;
        }

        data.items.forEach((s) => {
          const tr = document.createElement("tr");
          function td(text) {
            const el = document.createElement("td");
            el.textContent = text;
            return el;
          }

          tr.appendChild(td(s.id || ""));
          tr.appendChild(td(s.username || s.tg_user_id || ""));
          tr.appendChild(td(s.wallet_address || ""));
          tr.appendChild(td(s.amount_slh ? (Number(s.amount_slh).toFixed(4) + " SLH") : ""));
          tr.appendChild(td(s.price_nis ? (Number(s.price_nis).toFixed(2) + " ") : ""));
          const statusTd = td(s.tx_status || "-");
          if (s.tx_status === "verified") statusTd.className = "badge-ok";
          else if (s.tx_status === "pending") statusTd.className = "badge-pending";
          else statusTd.className = "badge-bad";
          tr.appendChild(statusTd);

          const txTd = document.createElement("td");
          if (s.tx_hash) {
            const a = document.createElement("a");
            a.href = "https://bscscan.com/tx/" + s.tx_hash;
            a.target = "_blank";
            a.rel = "noreferrer";
            a.textContent = "BscScan";
            txTd.appendChild(a);
          } else {
            txTd.textContent = "-";
          }
          tr.appendChild(txTd);

          tbody.appendChild(tr);
        });
      } catch (err) {
        console.error("sales error", err);
        tbody.innerHTML = "<tr><td colspan='7'>שגיאה בטעינת הנתונים.</td></tr>";
      }
    }

    async function loadPosts() {
      const box = document.getElementById("posts-box");
      if (!box) return;
      try {
        const res = await fetch(API_BASE + "/api/posts?limit=20");
        if (!res.ok) {
          box.textContent = "שגיאה בטעינת הפוסטים.";
          return;
        }
        const data = await res.json();
        box.innerHTML = "";

        if (!data.items || data.items.length === 0) {
          box.textContent = "עדיין אין פוסטים. צור פוסט חדש דרך הבוט עם /post.";
          return;
        }

        data.items.forEach((p) => {
          const div = document.createElement("div");
          div.style.marginBottom = "12px";

          const title = document.createElement("div");
          title.style.fontWeight = "600";
          title.textContent = p.title || "(ללא כותרת)";

          const meta = document.createElement("div");
          meta.style.fontSize = "0.75rem";
          meta.style.color = "#9ca3af";
          meta.textContent =
            "מאת: " + (p.username || p.tg_user_id || "") + "  " +
            (p.created_at ? new Date(p.created_at).toLocaleString("he-IL") : "");

          const text = document.createElement("div");
          text.style.marginTop = "4px";
          text.textContent = p.content || "";

          const links = document.createElement("div");
          links.style.marginTop = "4px";
          links.style.fontSize = "0.8rem";
          if (p.link_url) {
            const a = document.createElement("a");
            a.href = p.link_url;
            a.target = "_blank";
            a.rel = "noreferrer";
            a.textContent = "קישור מצורף";
            links.appendChild(a);
          }

          div.appendChild(title);
          div.appendChild(meta);
          div.appendChild(text);
          if (p.link_url) div.appendChild(links);

          box.appendChild(div);
        });
      } catch (err) {
        console.error("posts error", err);
        box.textContent = "שגיאה בטעינת הפוסטים.";
      }
    }

    async function addTokenToMetaMask() {
      const statusEl = document.getElementById("wallet-status");
      if (!window.ethereum) {
        statusEl.textContent = "MetaMask לא זוהה בדפדפן. התקן את התוסף ונסה שוב.";
        return;
      }
      try {
        const wasAdded = await window.ethereum.request({
          method: "wallet_watchAsset",
          params: {
            type: "ERC20",
            options: {
              address: "0xACb0A09414CEA1C879c67bB7A877E4e19480f022",
              symbol: "SLH",
              decimals: 15
            }
          }
        });
        if (wasAdded) {
          statusEl.textContent = "הטוקן SLH נוסף בהצלחה ל-MetaMask.";
        } else {
          statusEl.textContent = "המשתמש ביטל את ההוספה.";
        }
      } catch (err) {
        console.error(err);
        statusEl.textContent = "שגיאה בהוספת הטוקן: " + (err.message || err);
      }
    }

    document.getElementById("btn-add-token").addEventListener("click", addTokenToMetaMask);

    setupTabs();
    setupShares();
    loadConfig();
    loadPrice();
    loadSales();
    loadPosts();
    setInterval(loadSales, 30000);
    setInterval(loadPosts, 60000);
  </script>
</body>
</html>
